@using Taskboard.Components.Dialogs
@using Taskboard.Entities.Task
@using Taskboard.Models
@inject IDialogService DialogService


<MudButton OnClick="@(() => OpenDialogAsync(SelectedTask))" Variant="Variant.Filled" Color="Color.Primary"><MudIcon Icon="@Icons.Material.Filled.Brush" Title="Edit" /> </MudButton>

@code {
    [Parameter]
    public TaskItemEntity SelectedTask { get; set; }
    
    private Task OpenDialogAsync(TaskItemEntity task)
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };
        var dialogParameters = new DialogParameters<UpdateDialog>
        {
            {x => x.CurrentTask, task}
        };

        return DialogService.ShowAsync<UpdateDialog>("Task bearbeiten", dialogParameters, options);
    }
}